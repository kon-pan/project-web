<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
      crossorigin="anonymous"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="static/css/user/style.css" />

    <title>HARτης | Register</title>
  </head>
  <body>
    <div class="container mt-5">
      <div class="row justify-content-center">
        <div class="col-6" id="main-content__register">
          <div class="row">
            <div class="col pt-3 text-center">
              <h4>Create an account</h4>
            </div>
          </div>
          <% if (!(Object.keys(flashMsg).length === 0 && flashMsg.constructor === Object)) { %>
          <div class="row">
            <div class="col mx-5 py-2 text-center" id="error-messages-wrapper">
              <% if (flashMsg['firstNameErr']) { %>
              <span class="small"><%= flashMsg['firstNameErr'] %></span>
              <% } %>
              <% if (flashMsg['lastNameErr']) { %>
              <span class="small"><%= flashMsg['lastNameErr'] %></span>
              <% } %>
              <% if (flashMsg['usernameErr']) { %>
              <span class="small"><%= flashMsg['usernameErr'] %></span>
              <% } %>
              <% if (flashMsg['emailErr']) { %>
                <span class="small"><%= flashMsg['emailErr'] %></span>
                <% } %>
            </div>
          </div>
          <% } %>
          <div class="row">
            <div class="col px-5 py-3" id="register-form-wrapper">
              <form action="/register" method="POST">
                <div class="form-row">
                  <div class="col">
                    <div class="form-group">
                      <input
                        type="text"
                        <% if(!(flashMsg['firstNameErr']) && flashMsg['firstNameVal']) { %>
                        class="form-control form-control-success"  
                        value="<%= flashMsg['firstNameVal'] %>"
                        <% } else if(flashMsg['firstNameErr']) { %>
                        class="form-control form-control-error"
                        <% } else { %>
                        class="form-control"
                        <% } %>
                        name="firstName"
                        placeholder="First name"
                      />
                    </div>
                  </div>
                  <div class="col">
                    <div class="form-group">
                      <input
                        type="text"
                        <% if(!(flashMsg['lastNameErr']) && flashMsg['lastNameVal']) { %>
                        class="form-control form-control-success"  
                        value="<%= flashMsg['lastNameVal'] %>"
                        <% } else if(flashMsg['lastNameErr']) { %>
                        class="form-control form-control-error"
                        <% } else { %>
                        class="form-control"
                        <% } %>
                        name="lastName"
                        placeholder="Last name"
                      />
                    </div>
                  </div>
                </div>
                <div class="form-row">
                  <div class="col">
                    <div class="form-group">
                      <input
                        type="text"
                        <% if(!(flashMsg['usernameErr']) && flashMsg['usernameVal']) { %>
                        class="form-control form-control-success"  
                        value="<%= flashMsg['usernameVal'] %>"
                        <% } else if(flashMsg['usernameErr']) { %>
                        class="form-control form-control-error"
                        <% } else { %>
                        class="form-control"
                        <% } %>
                        name="username"
                        placeholder="Username"
                      />
                    </div>
                  </div>
                </div>
                <div class="form-row">
                  <div class="col">
                    <div class="form-group">
                      <input
                        type="text"
                        <% if(!(flashMsg['emailErr']) && flashMsg['emailVal']) { %>
                        class="form-control form-control-success"  
                        value="<%= flashMsg['emailVal'] %>"
                        <% } else if(flashMsg['emailErr']) { %>
                        class="form-control form-control-error"
                        <% } else { %>
                        class="form-control"
                        <% } %>
                        name="email"
                        placeholder="Email address"
                      />
                    </div>
                  </div>
                </div>
                <div class="form-row">
                  <div class="col">
                    <div class="form-group">
                      <input
                        type="password"
                        <% if(flashMsg['passwordErr']) { %>
                        class="form-control form-control-error"
                        <% } else { %>
                        class="form-control"
                        <% } %>
                        name="password"
                        placeholder="Password (at least 8 characters)"
                      />
                    </div>
                  </div>
                  <div class="col">
                    <div class="form-group">
                      <input
                        type="password"
                        <% if(flashMsg['passwordConfirmErr']) { %>
                        class="form-control form-control-error"
                        <% } else { %>
                        class="form-control"
                        <% } %>
                        name="passwordConfirm"
                        placeholder="Confirm password"
                      />
                    </div>
                  </div>
                </div>
                <div class="col text-center">
                  <button class="btn btn-success w-25" type="submit">
                    Register
                  </button>
                </div>
              </form>
            </div>
          </div>
          <div class="row">
            <div class="col text-center">
              <p class="small">
                Already have an account? <a href="/login">Sign in</a>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
